(()=>{"use strict";const e=class{constructor(){let{container:e=null,btns:t=null,next:s=null,prev:i=null,nextModule:n=null,prevModule:l=null,activeClass:o="",autoplay:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.container=document.querySelector(e),this.slideIndex=1,this.next=document.querySelector(s),this.prev=document.querySelector(i),this.btns=document.querySelectorAll(t),this.nextModule=document.querySelectorAll(n),this.prevModule=document.querySelectorAll(l),this.activeClass=o,this.autoplay=a;try{this.slides=this.container.children}catch(e){}}},t=class extends e{constructor(e){super(e)}showSlides(e){e>this.slides.length&&(this.slideIndex=1),e<1&&(this.slideIndex=this.slides.length);try{this.hanson.style.opacity=0,3===e?setTimeout((()=>{this.hanson.classList.add("animated","fadeInUp")}),3e3):this.hanson.classList.remove("animated","fadeInUp")}catch(e){}Array.from(this.slides).forEach((e=>{e.classList.remove("show"),e.classList.add("hide")})),this.slides[this.slideIndex-1].classList.remove("hide"),this.slides[this.slideIndex-1].classList.add("show")}plusSlide(e){this.showSlides(this.slideIndex+=e)}bindTriggers(){function e(e,t){for(var s=arguments.length,i=new Array(s>2?s-2:0),n=2;n<s;n++)i[n-2]=arguments[n];Array.from(e).forEach((e=>{e.classList.remove(...i),e.classList.add("hide","animated",t)}))}this.btns.forEach((t=>{const s=t.parentNode.previousElementSibling;t.addEventListener("click",(t=>{t.stopPropagation(),e(this.slides,"slideInDown","show","slideInRight","slideInLeft"),this.plusSlide(1)})),s.addEventListener("click",(t=>{t.preventDefault(),e(this.slides,"slideInDown","show","slideInRight","slideInLeft"),this.slideIndex=1,this.showSlides(this.slideIndex)}))})),this.nextModule.forEach((t=>{t.addEventListener("click",(t=>{t.stopPropagation(),e(this.slides,"slideInRight","show","slideInDown","slideInLeft"),this.plusSlide(1)}))})),this.prevModule.forEach((t=>{t.addEventListener("click",(t=>{t.stopPropagation(),e(this.slides,"slideInLeft","show","slideInRight","slideInDown"),this.plusSlide(-1)}))}))}render(){if(this.container){try{this.hanson=document.querySelector(".hanson")}catch(e){}this.showSlides(this.slideIndex),this.bindTriggers()}}},s=class extends e{constructor(e,t,s,i,n){super(e,t,s,i,n),this.buttons=this.findBtn()}findBtn(){try{return Array.from(this.slides).filter((e=>"BUTTON"===e.tagName))}catch(e){}}addActive(){Array.from(this.slides).forEach((e=>{e.classList.remove(this.activeClass)})),this.slides[0].closest("button")||this.slides[0].classList.add(this.activeClass)}nextSlide(){this.container.append(this.slides[0]),this.buttons.length>0&&this.buttons.forEach((e=>this.container.append(e))),this.addActive()}prevSlide(){this.buttons.length>0&&this.buttons.forEach((e=>this.container.prepend(e))),this.container.insertBefore(this.slides[this.slides.length-1],this.slides[0]),this.addActive()}bindTriggers(){this.next.addEventListener("click",(()=>this.nextSlide())),this.prev.addEventListener("click",(()=>this.prevSlide()))}init(){try{this.container.style.cssText="\n      overflow: hidden;\n      display: flex;\n      flex-wrap: wrap;\n      align-items: flex-start;\n      ",this.autoplay&&setInterval((()=>{this.nextSlide()}),5e3),this.bindTriggers()}catch(e){}}},i=class{constructor(e,t){this.btns=document.querySelectorAll(e),this.overlay=document.querySelector(t),this.close=this.overlay.querySelector(".close"),this.onPlayerStateChange=this.onPlayerStateChange.bind(this)}hideOverlay(){this.overlay.classList.remove("flex"),this.overlay.classList.add("hide"),this.player.stopVideo()}showOverlay(){this.overlay.classList.remove("hide"),this.overlay.classList.add("flex")}bindTriggers(){this.btns.forEach(((e,t)=>{try{const s=e.closest(".module__video-item").nextElementSibling;t%2==0&&s.setAttribute("data-disabled","true")}catch(e){}e.addEventListener("click",(()=>{e.closest(".module__video-item")&&"true"===e.closest(".module__video-item").getAttribute("data-disabled")||(this.activeBtn=e,document.querySelector("iframe#frame")?(this.showOverlay(),this.path!==e.getAttribute("data-url")&&(this.path=e.getAttribute("data-url"),this.player.loadVideoById({videoId:this.path}))):(this.path=e.getAttribute("data-url"),this.createPlayer(this.path)))}))}))}bindCloseBtn(){this.close.addEventListener("click",(()=>{this.hideOverlay()}))}createPlayer(e){this.showOverlay(),this.player=new YT.Player("frame",{height:"100%",weight:"100%",videoId:e,events:{onStateChange:this.onPlayerStateChange}})}onPlayerStateChange(e){try{const t=this.activeBtn.closest(".module__video-item").nextElementSibling,s=this.activeBtn.querySelector("svg").cloneNode(!0);0===e.data&&t.querySelector(".play__circle").classList.contains("closed")&&(t.querySelector(".play__circle").classList.remove("closed"),t.querySelector(".play__circle svg").remove(),t.querySelector(".play__circle").append(s),t.querySelector(".play__text").textContent="play video",t.querySelector(".play__text").classList.remove("attention"),t.style.cssText="opacity: 1; filter: none",t.setAttribute("data-disabled","false"))}catch(e){}}init(){if(this.btns.length>0){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.querySelectorAll("script")[0];t.parentNode.insertBefore(e,t),this.bindTriggers(),this.bindCloseBtn()}}},n=class{constructor(e,t){try{this.parent=document.querySelector(e),this.items=this.parent.querySelectorAll(t),this.counter=0}catch(e){}}hideItems(){this.items.forEach(((e,t,s)=>{t!==s.length-1&&(e.style.display="none",e.classList.add("animated","slideInDown"))}))}bindTriggers(){this.parent.querySelector(".plus").addEventListener("click",(()=>{this.counter>=this.items.length-2?(this.items[this.counter].style.display="flex",this.items[this.items.length-1].remove()):(this.items[this.counter].style.display="flex",this.counter++)}))}init(){try{this.hideItems(),this.bindTriggers()}catch(e){}}},l=class{constructor(e){this.form=document.querySelector(e),this.path="assets/question.php",this.messages={fail:"Oops...",success:"Success!"}}checkMailInputs(){const e=this.form.querySelector('[name="email"]');e.addEventListener("input",(()=>{e.value=e.value.replace(/[а-яё]/gi,"")}))}async postData(e,t){const s=await fetch(e,{method:"POST",body:t});if(!s.ok)throw new Error(`Failed to fetch ${e} ${s.status} (${s.statusText})`);return await s.text()}initMask(){function e(e){const t="+1 (___) ___-____",s=t.replace(/\D/g,"");let i=this.value.replace(/\D/g,""),n=0;var l,o;s.length>=i.length&&(i=s),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<i.length?i.charAt(n++):n>=i.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):(l=this.value.length,(o=this).setSelectionRange(l,l),o.focus())}const t=this.form.querySelector('[name="phone"]');t&&(t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blur",e),t.addEventListener("keypress",e))}init(){try{this.checkMailInputs(),this.initMask();const e=document.createElement("div");e.classList.add("status-modal"),this.form.addEventListener("submit",(t=>{t.preventDefault();const s=new FormData(this.form);document.body.prepend(e),this.postData(this.path,s).then((t=>{e.innerHTML=`\n           <div class="text-window">\n              <p>${this.messages.success}</p>\n           </div>\n           `,console.log(t)})).catch((t=>{e.innerHTML=`\n           <div class="text-window">\n              <p>${this.messages.fail}</p>\n           </div>\n           `,console.log(t.message)})).finally((()=>{this.form.reset(),setTimeout((()=>{e.remove()}),3500)}))}))}catch(e){}}};window.addEventListener("DOMContentLoaded",(()=>{new t({container:".page",btns:".page .sidecontrol__controls .next"}).render(),new t({container:".moduleapp",btns:".moduleapp .sidecontrol__controls .next",nextModule:".moduleapp .nextmodule",prevModule:".moduleapp .prevmodule"}).render(),new s({container:".showup__content-slider",prev:".showup__prev",next:".showup__next",activeClass:"card-active"}).init(),new s({container:".modules__content-slider",prev:".modules__info-btns .slick-prev",next:".modules__info-btns .slick-next",activeClass:"card-active",autoplay:!0}).init(),new s({container:".feed__slider",prev:".feed__slider .slick-prev",next:".feed__slider .slick-next",activeClass:"feed__item-active"}).init(),new i(".showup .play",".overlay").init(),new i(".module__video-item .play",".overlay").init(),new n(".officerold",".officer__card-item").init(),new n(".officernew",".officer__card-item").init(),new l(".join .form").init(),new l(".schedule .form").init(),new class{constructor(e){this.btns=document.querySelectorAll(e)}showMessage(){this.btns.forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".module__info-show").nextElementSibling;t.classList.toggle("show"),t.classList.toggle("animated"),t.classList.toggle("fadeIn")}))}))}init(){this.showMessage()}}(".module__info-show .plus").init(),new class{constructor(e){this.btns=document.querySelectorAll(e),this.path="assets/bringitup.pdf"}download(e){const t=document.createElement("a");t.style.display="none",t.href=e,t.setAttribute("download","technical_specification"),document.body.append(t),t.click(),t.remove()}init(){this.btns.forEach((e=>{e.addEventListener("click",(()=>{this.download(this.path)}))}))}}(".download").init()}))})();